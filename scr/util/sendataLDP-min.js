var Is_Scroll=!1,Count_scroll=0,diff=0,Is_device_motion_change=null,Count_device_motion=0,device_motion_compare=0;let frames=[];function appendIframeVertical(){const e=document.querySelectorAll(".skycom-wrapper");e.length>0&&e.forEach((function(e){if(!e)return;const o=document.createElement("iframe");o.src="https://form.skycom.vn/v5keyboard",o.classList.add("skycom-iframe"),e.insertBefore(o,e.children[0])}))}function appendIframeHorizontal(){document.querySelectorAll(".skycom-wrapper--horizontal").length>0&&wrapperFormVerticals.forEach((function(e){if(!e)return;const o=document.createElement("iframe");o.src="https://form.skycom.vn/v5-horizontal",o.classList.add("skycom-iframe"),e.insertBefore(o,e.children[0])}))}function checkDeviceEmotion(){window.DeviceMotionEvent&&(window.addEventListener("devicemotion",(function(e){diff=e.acceleration.x||e.accelerationIncludingGravity.x,handleDeviceMotionStatus()})),setInterval((()=>{diff!=device_motion_compare&&(Count_device_motion++,device_motion_compare=diff)}),1e3))}function handleDeviceMotionStatus(){Is_device_motion_change=Count_device_motion>5}function debounce(e,o){return n=>{clearTimeout(e.id),e.id=setTimeout((()=>{e.call(this,n)}),o)}}function checkScroll(){Count_scroll++,!Is_Scroll&&Count_scroll>2&&(Is_Scroll=!0),frames.forEach((e=>{sendMessage(e)}))}function listenFirame(){document.querySelectorAll(".skycom-iframe").forEach((function(e){frames.push(e),e.addEventListener("load",(function(){sendMessage(e)}))}))}function sendMessage(e){const o=JSON.stringify({message:"send data",src:window.location.href,Is_Scroll:Is_Scroll,Count_scroll:Count_scroll,Is_device_motion_change:Is_device_motion_change,Count_device_motion:Count_device_motion});e.contentWindow.postMessage({call:"skylink_event",value:o},"https://form.skycom.vn/")}window.addEventListener("scroll",debounce(checkScroll,500)),appendIframeVertical(),appendIframeHorizontal(),listenFirame(),checkDeviceEmotion();